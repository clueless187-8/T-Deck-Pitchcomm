/*
 * ============================================================================
 * T-DECK PITCHCOMM - CONFIGURATION HEADER
 * ============================================================================
 * Hardware: LilyGO T-Deck Plus (ESP32-S3)
 * Version:  1.2.0 - Pitch + Location support
 * Protocol: 7-byte packets with location field
 * ============================================================================
 */

#ifndef CONFIG_H
#define CONFIG_H

// ============================================================================
// FIRMWARE INFO
// ============================================================================
#define FW_VERSION          "1.2.0"
#define PROTOCOL_VERSION    0x02    // Incremented for location support

// ============================================================================
// DEBUG CONFIGURATION
// ============================================================================
#define DEBUG_BAUD          115200

// ============================================================================
// BOARD POWER (T-Deck Plus specific)
// ============================================================================
#define BOARD_POWERON       10      // Peripheral power enable - ACTIVE HIGH

// ============================================================================
// SPI BUS (Shared: Display + LoRa + SD)
// ============================================================================
#define SPI_SCK             40
#define SPI_MISO            38
#define SPI_MOSI            41

// ============================================================================
// DISPLAY - ST7789 320x240
// ============================================================================
#define TFT_CS              12
#define TFT_DC              11
#define TFT_RST             -1      // No hardware reset
#define TFT_BL              42      // Backlight PWM

// ============================================================================
// LORA RADIO - SX1262
// ============================================================================
#define LORA_CS             9
#define LORA_RST            17
#define LORA_DIO1           45
#define LORA_BUSY           13

// RF Parameters - 915 MHz ISM Band (US)
#define LORA_FREQ           915.0   // MHz
#define LORA_BW             125.0   // kHz bandwidth
#define LORA_SF             7       // Spreading factor
#define LORA_CR             5       // Coding rate 4/5
#define LORA_POWER          22      // dBm (+22 max)
#define LORA_PREAMBLE       8       // Preamble symbols

// ============================================================================
// I2C BUS (Keyboard + Touch + Sensors)
// ============================================================================
#define I2C_SDA             18
#define I2C_SCL             8

// ============================================================================
// KEYBOARD (ESP32-C3 based)
// ============================================================================
#define KB_I2C_ADDR         0x55
#define KB_INT              46
#define KB_DEBOUNCE_MS      100

// ============================================================================
// TOUCH (CST816S)
// ============================================================================
#define TOUCH_INT           16

// ============================================================================
// SD CARD
// ============================================================================
#define SD_CS               39

// ============================================================================
// GPS (T-Deck Plus)
// ============================================================================
#define GPS_TX              43
#define GPS_RX              44

// ============================================================================
// TIMING
// ============================================================================
#define TX_COOLDOWN_MS      150     // Min between TX
#define WDT_TIMEOUT_SEC     30      // Watchdog

#endif // CONFIG_H
